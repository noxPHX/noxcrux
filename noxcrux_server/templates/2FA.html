{% extends 'authenticated.html' %}

{% block title %}
    noxcrux - 2FA
{% endblock title %}

{% block content %}

    <div class="d-flex flex-wrap justify-content-center align-items-center px-3 h-i">

        <div class="card text-center">
            <div class="card-header">2FA</div>
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">Manage your TOTP device</h5>
                {% if device %}
                    <a class="btn btn-primary bg-main m-1" href="{% url '2FA_secret' %}">
                        View secret&nbsp;<i class="fas fa-user-lock"></i>
                    </a>
                    {% if not device.confirmed %}
                        <a class="btn btn-primary bg-main m-1" href="{% url '2FA_confirm' %}">
                            Confirm your device&nbsp;<i class="fas fa-user-lock"></i>
                        </a>
                    {% else %}
                        <a class="btn btn-danger m-1" href="{% url '2FA_delete' %}">
                            Disable 2FA&nbsp;<i class="fas fa-user-times"></i>
                        </a>
                    {% endif %}
                {% else %}
                    <a class="btn btn-primary bg-main m-1" href="{% url '2FA_secret' %}">
                        Setup 2FA&nbsp;<i class="fas fa-user-lock"></i>
                    </a>
                {% endif %}
            </div>
            <div class="card-footer text-muted">
                <a href="{% url 'profile' %}" class="color-main"><i class="fas fa-arrow-left"></i>&nbsp;Back</a>
            </div>
        </div>
    </div>

{% endblock content %}
